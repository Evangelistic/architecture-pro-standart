### <a name="_b7urdng99y53"></a>__Название задачи:__ [MVP] Передача ставок в кол-центр

### <a name="_hjk0fkfyohdk"></a>__Автор:__ Архитектурная группа, Команда ИТ

### <a name="_uanumrh8zrui"></a>__Дата:__ 03.09.2025

### <a name="_3bfxc9a45514"></a>__Функциональные требования__

Опишите здесь верхнеуровневые Use Cases. Их нужно оформить в виде таблицы с пошаговым описанием:

|**№**|**Действующие лица или системы**|**Use Case**|**Описание**|
| :-: | :- | :- | :- |
| 1 | **Действующее лицо:** Сотрудник отдела депозитов<br>**Системы:** Система электронной почты | Отправка ставок партнёрскому кол-центру | Регулярная отправка актуальных ставок партнёрскому кол-центру  |
| 2 | **Действующее лицо:** Сотрудник кол-центра , Сотрудник партнерского кол-центра <br>**Системы:** Система кол-центра , Система партнёрского кол-центра | Консультация клиента по актуальным ставкам депозитов | Консультация клиента по актуальным ставкам депозитов |

### <a name="_u8xz25hbrgql"></a>__Нефункциональные требования__

Опишите здесь нефункциональные требования и архитектурно значимые требования.

|**№**|**Требование**|
| :-: | :- |
| R1 | Интеграция с партнёрским кол-центром должна быть реализована через обмен файлами. API-интеграция (включая SFTP) на стороне партнёра невозможна. |
| R2 | Должен быть определен и согласован регламент обновления и передачи данных (например, ежедневно), чтобы минимизировать риск предоставления клиентам устаревшей информации. |
| R3 | Передача файла со ставками должна осуществляться по защищенным каналам связи в соответствии с политиками безопасности банка. |

### <a name="_qmphm5d6rvi3"></a>__Решение__

Приведите диаграммы контекста и контейнеров в модели C4. Опишите там основные компоненты и интеграции всех элементов решения.

В рамках MVP для решения задачи предоставления ставок кол-центрам выбирается максимально простое и быстрое в реализации решение, основанное на существующих процессах и инструментах. Без изменений в схемах.

1. [C4 Context](../diagrams/to-be/mvp_context.puml)
2. [C4 Container](../diagrams/to-be/mvp_container.puml)

Также опишите, какой логикой вы руководствовались в ходе принятия решений и выбора технологий. Не забывайте, что необходимо учесть все функциональные и нефункциональные требования.

**Логика решения:**

1. __Источник данных:__ Сотрудник отдела депозитов продолжает вести учёт актуальных ставок в Excel-файле. Этот файл на этапе MVP является единственным источником правды о ставках. Работа сотрудников бэк-офиса не затрагивается в рамках MVP.
2. __Внутренний доступ:__ Для сотрудников внутреннего кол-центра банка доступ к файлу организуется через внутренние ресурсы банка (например, общий сетевой ресурс), что не требует доработок систем.
3. __Внешняя интеграция:__ Для передачи ставок в партнёрский кол-центр сотрудник отдела депозитов будет использовать существующую систему электронной почты. Он будет вручную отправлять обновленный Excel-файл представителям партнёра с установленной периодичностью (например, раз в день). Вложение защищается паролем, шифруется.
4. __Обработка на стороне партнёра:__ Партнёрский кол-центр самостоятельно загружает данные из полученного файла в свою систему

**Обоснование**:

Данный подход выбран, так как он не требует никаких доработок информационных систем и реализации новых интеграций. Он полностью соответствует ограничениям (обмен файлами, использование текущих процессов) и позволяет решить поставленную бизнес-задачу в кратчайшие сроки с нулевыми затратами на разработку. Это решение является временным для этапа MVP и позволяет быстро проверить гипотезу о нагрузке на кол-центр.

### <a name="_bjrr7veeh80c"></a>__Альтернативы__

Опишите здесь наиболее важные альтернативные решения.

1. **Реализация централизованного сервиса управления ставками.**
   - __Описание:__ Разработать новый микросервис, который бы хранил ставки в базе данных и предоставлял их по API всем потребителям, как это было предложено в [требовании +R7](/task2/FURPS+_Standart.md). Для партнёра можно было бы реализовать выгрузку файла из этого сервиса.
   - __Причина отказа:__ Это решение требует значительных временных и ресурсных затрат на разработку, что неприемлемо для срочной задачи в рамках MVP. Оно является следующим логическим шагом развития системы, но не подходит для быстрого решения текущей проблемы.

2. **Автоматизация отправки файла через SFTP.**
   - __Описание:__ Настроить SFTP-сервер для автоматического обмена файлами с партнёром.
   - __Причина отказа:__ Согласно вводным данным, партнёр технологически не готов к такой интеграции на текущем этапе. Использование электронной почты, хоть и является ручным процессом, но гарантированно работает для обеих сторон.

**Недостатки, ограничения, риски**

Подробно опишите здесь недостатки, ограничения и риски выбранного решения.

1. __Риск человеческой ошибки:__ Весь процесс является ручным и зависит от одного сотрудника. Возможны ошибки: отправка устаревшей версии файла, ошибки в самом файле, отправка не тому адресату или пропуск отправки.

1. __Неактуальность данных:__ При изменении ставок в течение дня кол-центры будут предоставлять клиентам устаревшую информацию до следующей плановой отправки файла.

1. __Риски безопасности:__ Передача файла по электронной почте может быть небезопасной, если не используются средства шифрования. Существует риск утечки коммерческой информации.

1. __Отсутствие единой версии правды:__ Наличие множества копий Excel-файла (у менеджера, на сетевом диске, в почте, в системе партнёра) создаёт риск рассинхронизации данных и путаницы. Решение является классическим анти-паттерном "Excel как база данных".

1. __Немасштабируемость:__ Процесс не масштабируется. При подключении новых партнёров или увеличении частоты обновлений ручная нагрузка на сотрудника станет чрезмерной.

